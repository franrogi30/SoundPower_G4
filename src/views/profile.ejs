<!DOCTYPE html>
<html lang="es">
  <%- include("partials/head")%>
  <script src="/javascript/userUpdate.js"></script>
  <body>
    <%- include("partials/navbar") %>
   <%- include("partials/social") %>

    <div class="container">
      <div class="row">
        <div class="col-12">
          <section class="perfilUsuario">
            <div class="row perfil">

                <div class="titulo col-12">
                    <h2 style="text-align: center;">
                      Perfil de <%= nick.toUpperCase( ) %>
                    </h2>
                </div>
                   <div class="contenido col-12">
                    <div class="row">
      
                      <% if (typeof errors != 'undefined') { %>
                 
                      <% for( let i = 0; i < errors.length; i++) { %> 
                       <ul>
                       <li  style="color:red; display: block; " >
                         <%= errors[i].msg %>  
                       </li>
                     </ul><br>
                      <% } %> 
                      <% } %> 
               
                      <form id="register" action="/users/register" method="POST" enctype="multipart/form-data">
                       <fieldset >
                                  
                                  <div class="Datos col-12 col-lg-8">
                                    <h2 class="fs-title">Datos Personales</h2>
                                    <label class="col-12" for="email">Nombre</label>
                                    <input
                                      type="text"
                                      class="form-control" <%= (typeof old != 'undefined' && old.nombre)?"is-valid":(typeof errors != 'undefined' && errors.nombre)?"is-invalid": ""  %>"
                                                id="fname"  name="fname"  value="<%= (typeof old != 'undefined' && old.fname)?old.fname:'' %>" 
                                                title="El nombre debe tener más de dos caracteres"/>
                                                <small id="errorFname" class="text-danger"><%= (typeof errors != 'undefined' && errors.fname)?errors.fname.msg: "" %> </small>
                                    
                                    <label class="col-12" for="email">Apellido</label>
                                    <input
                                      type="text"
                                      class="form-control" <%= (typeof old != 'undefined' && old.nombre)?"is-valid":(typeof errors != 'undefined' && errors.nombre)?"is-invalid": ""  %>"
                                      id="lname"  name="lname"  value="<%= (typeof old != 'undefined' && old.lname)?old.lname:'' %>"  title="El apellido debe tener más de dos caracteres"/>
                                      <small id="errorLname" class="text-danger"><%= (typeof errors != 'undefined' && errors.lname)?errors.lname.msg: "" %> </small>
                                    
                                    <label class="col-12" for="phone">Telefono</label>
                                    <input
                                      class="col-12"
                                      type="text"
                                      name="phone"
                                      placeholder="<%= user.telefono %>"
                                    />
                                    <label class="col-12 col-lg-8" for="address">Domicilio</label>
                                    <input class="col-12" name="address" placeholder="<%= user.direccion %>" />
                                  </div>
                                </fieldset>
                                <fieldset >
                                  <div class="Usuario col-12 col-lg-8">
                                    <h2 class="fs-title">Crea tu Usuario</h2>
                                    <div class="form-row">
                                      <div class="form-group col-12 ">
                                    <label class="col-12" for="email">Email</label>
                                    <input
                                      type="text"
                                       class="form-control col-12" <%= (typeof old != 'undefined' && old.email && !errors.email)?"is-valid":(typeof errors != 'undefined' && errors.email)?"is-invalid": ""  %>"
                                                id="email" value="<%= (typeof old != 'undefined' && old.email)?old.email:'' %>"  
                                                name="email"/>
                                                <small id="errorEmail" class="text-danger"><%= (typeof errors != 'undefined' && errors.email)?errors.email.msg: "" %> </small>
                                    <label class="col-12" for="password">Contraseña</label>
                                    <input
                                      type="password"
                                      class="form-control col-12" <%= (typeof errors != 'undefined' && errors.pass)?"is-invalid": ""  %>"
                                                id="pass" placeholder="contraseña" name="pass"/>
                                                <small id="errorPass" class="text-danger"><%= (typeof errors != 'undefined' && errors.pass)?errors.pass.msg: "" %> </small>
                                              </div>
                                    
                                    <label class="col-12" for="password">Repita Contraseña</label>
                                    <input
                                      type="password"
                                      class="form-control col-12" <%= (typeof errors != 'undefined' && errors.pass)?"is-invalid": ""  %>"
                                                id="cpass" placeholder="contraseña" name="cpass"/>
                                                <small id="errorCpass" class="text-danger"><%= (typeof errors != 'undefined' && errors.cpass)?errors.cpass.msg: "" %> </small>
                                    </div>
                                   </fieldset>
                               
                               
                                    <div class="btEnviar col-4">
                                      <button class="btn btn-submit" type="submit" style="text-align: center;">Actualizar</button>
                                    </div>
                                  
                                
                               </form>
                            </div>


                             
                              
                            </div>
                        </div>
                
                </div>
            </div>
        </section>
    </div>



        </div>
      </div>
    </div>
    <%- include("partials/footer") %>
  </body>
</html>
